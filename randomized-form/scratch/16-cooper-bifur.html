<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<title>Muriel</title>
<meta name="Sean" content="">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../tachyons.css">
<script type="text/javascript" src="../two.min.js"></script>
  <script type="text/javascript" src="../underscore-min.js"></script>
<script type="text/javascript" src="../Tween.js"></script>
<script type="text/javascript" src="../RequestAnimationFrame.js"></script>  
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  
  <style>
    
    footer {
      bottom: 0;
    }
    #assets {
      display: none;
    }
    
/*
    #rl {
      background-image: url("_images/splosion.jpg");
      background-repeat: none;
      background-size: cover;
    }
*/

  </style>
  
  <body>
    
    <section id="rl" class="w-100 vh-100 pa0 bg-washed-red" onmousemove="showCoords(event)">
      <header class="fixed w-100 pv4 ph2 ph4-ns mt0">
        <nav class="lh-solid">
          <a class="link blue fw3 fl" href="">SEAN CATANGUI</a>
          <a class="link blue fw3 fr" href="">SKETCH #16</a>
        </nav>
      </header>
      
      <footer class="fixed w-100 pv4 ph2 ph4-ns">
        <nav class="lh-solid">
          <a class="link blue fw3 fr" href="#">3/18</a>
        </nav>
        <p class="link blue fw3 f4 tc pv0 mv0 line-height-solid">SFPC</p>        
      </footer>        
    </section>

    <script>  
      
      var mouse_x;
      var mouse_y;
      
      function showCoords(event) {
          mouse_x = event.clientX;
          mouse_y = event.clientY;
//        console.log("x: " + mouse_x + ", y: " + mouse_y);
      }
      
      var elem = document.getElementById('rl');
      var params = { width: window.innerWidth, height: window.innerHeight };
      var two = new Two(params).appendTo(elem);
      
      var style = window.getComputedStyle(elem, null).getPropertyValue('font-size');
      var font_size = parseFloat(style);
      
      var mid = {x: two.width / 2, y: two.height / 2};
      var width = two.width;
      var height = two.height;
      
      var grid_rect;
      var rows = [];
      var cols = [];
      var row_h = height / rows.length;
      var col_w = width / cols.length;
      
      var body = document.querySelector('body');
      
//      body.onkeydown = function (e) {
//        console.log(e.keyCode);
//        
////        if (e.keyCode == 79) {
////          draw_o();
////        }
//      }

      
      ///////////////////////////////////////////      

      make_columns(4, 'blue');
      make_rows(4, 'blue');
      
//      r = 160;
      
//      var o_circle;
//      draw_o(mid.x, mid.y, r);
//      draw_stripes(o_circle);
      
//      
      var line;
      var lines = [];
      for (i = 0; i < 50; i++) {
        line = two.makeLine(cols[0].translation.x, rows[1].translation.y + 4*i, 
                     cols[1].translation.x, rows[1].translation.y + 4*i);
        lines.push(line);
      }
      
      var stripes = two.makeGroup(lines);
      stripes.center();
      stripes.translation.set(mid.x, mid.y);
      
      var cir = two.makeCircle(mid.x, mid.y, 100);
//      cir.noFill();
      
      stripes.mask = cir;
      
      
      
//      two.bind('update', function(frameCount) {
//        var t = two.frameCount / 60;
//      }).play();

      
      
      two.update();
      ///////////////////////////////////////////
      
//      DRAWING FUNCTIONS
      
//      function draw_o(x, y, r) {
//        o_circle = two.makeCircle(x, y, r);
//        o_circle.noFill();
//        o_circle.linewidth = x / 6.6;
//        o_circle.stroke = 'blue';
//      }
//      function draw_stripes(shape) {}
//        
//        var stripe;
//        var stripes = [];
//        for(i = 0; i < 20) {
//        line = two.makeLine(x_margin + mid.x + 150 * Math.cos(angle + i / (4*Math.PI)), 
//                            y_margin + mid.y + 150 * Math.sin(angle + i / (4*Math.PI)), 
//                            
//                            x_margin + mid.x + 150 * Math.cos(angle - i / (4*Math.PI) - Math.PI/3), 
//                            y_margin + mid.y + 150 * Math.sin(angle - i / (4*Math.PI) - Math.PI/3)
//                           );   
//        }
//      }
      
//      LAYOUT FUNCTIONS
      function make_columns(col, color) {
        for(i = 0; i<col; i++) {
          grid_rect = two.makeRectangle(width/col/2 + i*width/col, mid.y, width/col, height);
          grid_rect.noFill();
          grid_rect.linewidth = 16;
          grid_rect.stroke = color;
          grid_rect.opacity = 0.05;
          if (color == 'undefined') {
            grid_rect.noStroke();
          }
          cols.push(grid_rect);
        }  
      }
      
      function make_rows(row, color) {
        for(i = 0; i<row; i++) {
          grid_rect = two.makeRectangle(mid.x, height/row/2 + i*height/row, width, height/row);
          grid_rect.noFill();
          grid_rect.linewidth = 16;
          grid_rect.stroke = color;
          grid_rect.opacity = 0.05;
          if (color == 'undefined') {
            grid_rect.noStroke();
          }
          rows.push(grid_rect);
        }  
      }
      
//      MISC. FUNCTIONS
      function rem_to_pix(rem) {
        return rem * font_size;
      }
      
    </script>
    
  </body>