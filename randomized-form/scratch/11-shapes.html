<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<title>Whitney</title>
<meta name="Sean" content="">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../tachyons.css">
<script type="text/javascript" src="../two.min.js"></script>
<script type="text/javascript" src="../Tween.js"></script>
<script type="text/javascript" src="../RequestAnimationFrame.js"></script>  
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  
  <style>
    iframe {
      -webkit-user-select: none; /* Safari */        
      -moz-user-select: none; /* Firefox */
      -ms-user-select: none; /* IE10+/Edge */
      user-select: none; /* Standard */
      position: fixed;
      top: 0;
    }
  </style>
  
  <body>
    
    <section id="rl" class="w-100 vh-80 bg-black">
    </section>
<!-- rigid body mechanics, spring physics -->
    <script>      
      var elem = document.getElementById('rl');
      var params = { width: window.innerWidth, height: window.innerHeight };
      var two = new Two(params).appendTo(elem);

      var mid = {x: two.width / 2, y: two.height / 2};
      var width = two.width;
      var height = two.height;
      var margin = 50;
  
      var colors = [
        'rgb(249,14,27)',
        'rgb(250,40,251)',
        'rgb(11,36,250)',
        'rgb(45,254,254)',
        'rgb(254,253,56)',
        'rgb(41,251,47)'
      ];
      
//      "rgb(251, 83, 105)" PINK
//      "rgb(186, 240, 238)" B BLUE
//      "rgb(251, 172, 77)" ORANGE
      
      
      
      var linearGradient = two.makeLinearGradient(
        two.width / 2, - two.height / 2,
        two.width / 2, two.height / 2,
        new Two.Stop(0, colors[2]),
        new Two.Stop(1, colors[3]),
        new Two.Stop(1, colors[4])
      );
      
  //      var bg = two.makeRectangle(mid.x, mid.y, width, height);
  //      bg.noStroke();
  //      bg.fill = linearGradient;
      
      var cg = [];
      var circle;
      var square1;
      var square2;
//      for(i = 0; i < 2; i++) {
//        circle = two.makeCircle(mid.x, mid.y, 5);
//        circle.noFill();
//        cg.push(circle);
//      }
      
      var corner1 = two.makeRoundedRectangle(margin, margin, 20, 20, 5);
      var corner4 = two.makeRoundedRectangle(width - margin, height - margin, 20, 20, 5);
      
      corner1.noStroke();
      corner4.noStroke();
      
      corner1.fill = "white";
      corner4.fill = "white";
      
      var t;
      var pos;
      var sin_t;
      var b_amp = 400;
      var b_off = 0.5 * b_amp;
      
      var line;
      var glow;
      var lines = [];
      var glows = [];
//        var star = two.makeGroup();
      
      two.bind('update', function() {
//        two.remove(square1, square2);
        for (i = 0; i < lines.length; i++) {
          two.remove(lines[i]);
          two.remove(glows[i]);
        }
        
        
        t = two.frameCount / 60;
        sin_t = Math.sin(t * 4);
        pos = {x: Math.cos(t), y: Math.sin(t)};
        
        
//        BOUNCING RINGS
        
//        cg[0].stroke = "white";
//        cg[1].stroke = "white";
//        
//        for(i = 0; i < cg.length; i++) {
//          cg[i].scale = 40 * Math.sin(t + 3*i);
//        }
  
        
        
        
        
        
//        GROWING RECTANGLE
//        - to give illusion of staying still, must translate to half the growth
//        - next on to do -- map b_amp such that it's always width or height minus margin
//        
//        square1 = two.makeRectangle(margin, 
//                                    margin, 
//                                    b_amp * sin_t, 
//                                    20);
//        square1.translation.set(margin + b_off * sin_t,
//                                margin);
//        square1.fill = "white";
//        square1.noStroke();
//        
//        square2 = two.makeRectangle(width - margin, 
//                                    height - margin, 
//                                    b_amp * sin_t,
//                                    20);
//        
//        square2.translation.set(width - margin - b_off * sin_t, 
//                                height - margin);
//        square2.fill = "white";
//        square2.noStroke();
//
//        if (b_amp * sin_t < 0.0001) {
//          square1.rotation += Math.PI / 2;
//          square1.translation.set(margin, 
//                                  margin - b_off * sin_t);
//          
//          square2.rotation += Math.PI / 2;
//          square2.translation.set(width - margin , 
//                                  height - margin + b_off * sin_t);
//        }    
        
        
        for (i = 0; i < 12; i++) {
          glow = two.makeRectangle(mid.x, mid.y, mid.x + Math.sin(t * 8 + i) * 50, 10, 4);
          glow.opacity = 0.4
          glow.rotation = i/4;
          glow.fill = colors[1];
          glow.noStroke();
          glows.push(glow);
          
          line = two.makeRectangle(mid.x, mid.y, mid.x + Math.sin(t * 8 + i) * 30, 3, 3);
          line.rotation = i/4;
          line.stroke = colors[1];
          lines.push(line);
        }
        
        
        
        
        
        
        
        
        
        
        
      }).play();
      
    </script>
    
  </body>